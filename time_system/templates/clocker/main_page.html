
<html>

    <head>

        <link rel="stylesheet" type="text/css" href="/static/clocker/main_page.css"/>
        <script src="/static/clocker/js/js/jquery-1.7.1.min.js" type="text/javascript"></script>
        <script src="/static/clocker/js/js/jquery-ui-1.8.18.custom.min.js" type="text/javascript"></script>

        <script>
            $(document).ready(function() {
                var dates = $( "#from, #to" ).datepicker({
                    defaultDate: "+1w",
                    changeMonth: true,
                    numberOfMonths: 1,
                    dateFormat: 'yy-mm-dd',
                    onSelect: function( selectedDate ) {
                        var option = this.id == "from" ? "minDate" : "maxDate",
                        instance = $( this ).data( "datepicker" ),
                        date = $.datepicker.parseDate(
                        instance.settings.dateFormat ||
                        $.datepicker._defaults.dateFormat,
                        selectedDate, instance.settings );
                        dates.not( this ).datepicker( "option", option, date );
                    }
                });
            });
        </script>

    </head>

    <body> 

        <div id="content">

            <div>
                {% if user.first_name %}
                    Hello {{user.first_name}} {{user.last_name}} (<a href="/logout/">logout</a>)
                {% endif %}
            </div>
        
            <div class="login">

                <div>
                    &nbsp;
                    <form name="main_page" method="post">
                        {% csrf_token %}
 

                        <div class="radio_buttons">
                            <input type="radio" name="status" value="In" checked="checked"/> Clock In<br />
                            <input type="radio" name="status" value="Out"/> Clock Out
                        </div>
                        
                        <input type="submit" value="submit" class="submit_clock">

                    </form>


                    <form name="admin" action="hours/" method="post">
                        {% csrf_token %}
                        
                        From<input type="text" id="from" name="from"/>
                        to<input type="text" id="to" name="to"/>

                        <select name="user_name">
                            {% for emp in employee %}
                                <option value="{{emp.user.username}}">{{emp}}</option>
                            {% endfor %}
                        </select> 

                        <input type="submit" value="submit" name="submit'>

                    </form>

                </div>

                <div class="message">

                    {% ifequal error "none" %}

                        {% ifequal status "out" %}  
                            You have clocked out succesfully.
                        {% else %}
                            Your have clocked in succesfully.
                        {% endifequal %}

                    {% else %}

                        {% ifequal error "user" %}
                            {{ user_name }} is not a valid user name.  Please enter a valid user name. 
                        {% endifequal %}

                        {% ifequal error "out" %}
                            You are not able to clock out right now. Please clock in first.
                        {% endifequal %}

                        {% ifequal error "in" %}
                            You are not able to clock in right now. Please clock out first.
                        {% endifequal %}

                    {% endifequal %}

                </div> <!--End message-->

            </div> <!--End login-->

        </div> <!--End content-->

    </body>

</html>
